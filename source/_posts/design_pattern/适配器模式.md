---
title: è®¾è®¡æ¨¡å¼ä¹‹é€‚é…å™¨æ¨¡å¼
published: true
layout: post
date: 2025-12-08 18:40:00
permalink: /design_pattern/adaptor_pattern.html
categories: [è®¾è®¡æ¨¡å¼]

---



## æ¦‚å¿µ

**é€‚é…å™¨æ¨¡å¼**æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸æ¥å£ä¸å…¼å®¹çš„ç±»èƒ½å¤Ÿä¸€èµ·å·¥ä½œã€‚é€‚é…å™¨æ¨¡å¼å°±åƒç°å®ç”Ÿæ´»ä¸­çš„ç”µæºé€‚é…å™¨ï¼Œå¯ä»¥è®©ä¸åŒæ ‡å‡†çš„æ’å¤´è¿æ¥åˆ°æ’åº§ä¸Šã€‚



**æ ¸å¿ƒæ€æƒ³**ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆç³»ç»ŸæœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œä½¿åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥ä¸€èµ·å·¥ä½œ



### âœ… é€‚ç”¨åœºæ™¯ï¼š

1. **æ•´åˆç¬¬ä¸‰æ–¹åº“**ï¼šéœ€è¦ä½¿ç”¨ç°æœ‰çš„ç±»ï¼Œä½†å…¶æ¥å£ä¸ç¬¦åˆéœ€æ±‚
2. **ç³»ç»Ÿå‡çº§å…¼å®¹**ï¼šæ–°ç³»ç»Ÿéœ€è¦å…¼å®¹æ—§ç³»ç»Ÿçš„æ¥å£
3. **ç»Ÿä¸€å¤šä¸ªç±»æ¥å£**ï¼šå¤šä¸ªç±»æœ‰ç›¸ä¼¼åŠŸèƒ½ä½†æ¥å£ä¸åŒ
4. **å¤ç”¨é—ç•™ä»£ç **ï¼šè€ä»£ç åŠŸèƒ½å¯ç”¨ä½†æ¥å£ä¸å…¼å®¹



**ä½¿ç”¨å»ºè®®**

- é€‚é…å™¨æ¨¡å¼åº”è°¨æ…ä½¿ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨è¯¦ç»†è®¾è®¡é˜¶æ®µï¼Œå®ƒæ›´å¤šåœ°ç”¨äºè§£å†³ç°æœ‰ç³»ç»Ÿçš„é—®é¢˜ã€‚
- åœ¨è€ƒè™‘ä¿®æ”¹ä¸€ä¸ªæ­£å¸¸è¿è¡Œçš„ç³»ç»Ÿæ¥å£æ—¶ï¼Œé€‚é…å™¨æ¨¡å¼æ˜¯ä¸€ä¸ªåˆé€‚çš„é€‰æ‹©ã€‚



### ğŸ¯ å…¸å‹ä¾‹å­ï¼š

- **ç”µå‹è½¬æ¢å™¨**ï¼š220Vè½¬110V
- **è¯»å¡å™¨**ï¼šSDå¡è¯»å¡å™¨ã€TFå¡è¯»å¡å™¨
- **æ—¥å¿—æ¡†æ¶é€‚é…**ï¼šLog4jã€SLF4Jã€Logback
- **æ•°æ®åº“é©±åŠ¨**ï¼šJDBCé©±åŠ¨é€‚é…ä¸åŒæ•°æ®åº“
- **åª’ä½“æ’­æ”¾å™¨**ï¼šæ’­æ”¾ä¸åŒæ ¼å¼æ–‡ä»¶



## ç±»å›¾

![image-20251208185108053](https://raw.githubusercontent.com/duwei0227/picbed/main/blogs/image-20251208185108053.png)

**ç±»å›¾è¯´æ˜ï¼š**

- **`Client`**ï¼šå®¢æˆ·ç«¯ï¼Œä½¿ç”¨Targetæ¥å£
- **`Target`**ï¼šç›®æ ‡æ¥å£ï¼Œå®¢æˆ·ç«¯æœŸæœ›çš„æ¥å£
- **`Adaptee`**ï¼šè¢«é€‚é…è€…ï¼Œå·²æœ‰çš„ä½†ä¸å…¼å®¹çš„ç±»
- **`Adapter`**ï¼šé€‚é…å™¨ï¼Œå°†Adapteeæ¥å£è½¬æ¢ä¸ºTargetæ¥å£



## ç¤ºä¾‹

### 1ã€ç›®æ ‡ç±»

```java
package cn.probiecoder.adaptor;

// ç›®æ ‡æ¥å£ï¼šä¸­å›½æ ‡å‡†æ’åº§
public interface ChinaSocket {
    void supplyPower();  // æä¾›220Vç”µæº
}

```





### 2ã€è¢«é€‚é…ç±»

```java
package cn.probiecoder.adaptor;

// è¢«é€‚é…è€…ï¼šç¾å›½ç”µå™¨ï¼ˆéœ€è¦110Vç”µæºï¼‰
public class AmericanAppliance {
    private String name;
    
    public AmericanAppliance(String name) {
        this.name = name;
    }
    
    // ç¾å›½ç”µå™¨çš„å·¥ä½œæ–¹æ³•ï¼ˆéœ€è¦110Vï¼‰
    public void workWith110V() {
        System.out.println(name + " æ­£åœ¨ä½¿ç”¨110Vç”µå‹å·¥ä½œ");
    }
    
    public String getName() {
        return name;
    }
}
```



### 3ã€é€‚é…å™¨

```java
package cn.probiecoder.adaptor;

// é€‚é…å™¨ï¼šç”µå‹è½¬æ¢å™¨ï¼ˆå°†220Vè½¬æ¢ä¸º110Vï¼‰
public class VoltageAdapter implements ChinaSocket {
    private AmericanAppliance appliance;
    
    public VoltageAdapter(AmericanAppliance appliance) {
        this.appliance = appliance;
    }
    
    @Override
    public void supplyPower() {
        System.out.println("é€‚é…å™¨ï¼šå°†220Vè½¬æ¢ä¸º110V");
        System.out.println("ä¸º " + appliance.getName() + " ä¾›ç”µ...");
        appliance.workWith110V();
    }
    
    // å…¶ä»–å¯èƒ½çš„æ–¹æ³•
    public void checkVoltage() {
        System.out.println("æ£€æŸ¥è¾“å…¥ç”µå‹ï¼š220V");
        System.out.println("è¾“å‡ºç”µå‹ï¼š110V");
    }
}
```



### 4ã€å®¢æˆ·ç«¯

```java
package cn.probiecoder.adaptor;

// å®¢æˆ·ç«¯ï¼šåœ¨ä¸­å›½ä½¿ç”¨ç¾å›½ç”µå™¨
public class Client {
    public static void main(String[] args) {
        System.out.println("=== ç”µæºé€‚é…å™¨ç¤ºä¾‹ ===");
        
        // åˆ›å»ºç¾å›½ç”µå™¨
        AmericanAppliance macbook = new AmericanAppliance("MacBook Pro");
        AmericanAppliance iphone = new AmericanAppliance("iPhone");
        
        // åˆ›å»ºé€‚é…å™¨
        ChinaSocket adapter1 = new VoltageAdapter(macbook);
        ChinaSocket adapter2 = new VoltageAdapter(iphone);
        
        // åœ¨ä¸­å›½æ’åº§ä¸Šä½¿ç”¨ç¾å›½ç”µå™¨
        System.out.println("\nä½¿ç”¨MacBookï¼š");
        adapter1.supplyPower();
        
        System.out.println("\nä½¿ç”¨iPhoneï¼š");
        adapter2.supplyPower();
        
        // ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨é€‚é…å™¨çš„å…¶ä»–åŠŸèƒ½
        System.out.println("\næ£€æŸ¥ç”µå‹è½¬æ¢ï¼š");
        ((VoltageAdapter) adapter1).checkVoltage();
    }
}
```

